<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="us.duia.leejo0531.dao.PointMapper">

	<select id="getGoodsList"  resultType="Goods">
		select * from goods
	</select>
	
	<insert id="addPoint" parameterType="CashLog">
		insert into CashLog(cashLogNum, userNum, cCharged, cChargedDate, cChange) 
		values(CashLog_SEQ.nextval, #{userNum}, #{cCharged}, TO_DATE(#{cChargedDate}), #{cChange}) 
	</insert>
	
	<select id="getChange" parameterType="int" resultType="int">
		select cChange from cashLog where userNum = #{userNum}
	</select>
	
	<select id="getRecentChange" parameterType="int" resultType="int">
		select max(cChange) from cashLog where userNum = #{userNum} group by USERNUM
	</select>
</mapper>
